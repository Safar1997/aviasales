(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{29:function(e,t,n){e.exports=n(53)},53:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(22),o=n.n(c),i=n(4),s=n(5),l=n(6),u=n(7),p=n(1),h=n(2);function f(){var e=Object(p.a)(["\n  background-color: #FFFFFF;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 232px;\n  height: 252px;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n  margin-top: 160px;\n  margin-left: 103px;\n  padding-top: 20px;\n  padding-bottom: 10px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n"]);return f=function(){return e},e}var g=h.b.form(f()),d=n(28);function m(){var e=Object(p.a)(["\n\n"]);return m=function(){return e},e}function b(){var e=Object(p.a)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  margin: 0px;\n  color: #2196F3;\n"]);return b=function(){return e},e}function x(){var e=Object(p.a)(["\n  display: block;\n  font-size: 12px;\n  line-height: 18px;\n  align-items: center;\n  letter-spacing: 0.5px;\n"]);return x=function(){return e},e}function v(){var e=Object(p.a)(["\n\n"]);return v=function(){return e},e}function E(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n  margin-left: 20px;\n  width: 141px;\n  justify-content: flex-end;\n"]);return E=function(){return e},e}function k(){var e=Object(p.a)(["\n  box-sizing: border-box;\n  display: flex;\n  background: #FFFFFF;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 20px;\n  padding-top: 26px;\n  padding-left: 0px;\n  margin: 0px;\n  margin-top: 20px;\n  width: 502px;\n  height: 184px;\n"]);return k=function(){return e},e}function w(){var e=Object(p.a)(["\n  padding-left: 20px;\n"]);return w=function(){return e},e}function y(){var e=Object(p.a)(["\n  display: inline-block;\n  outline: none;\n  width: 252px;\n  height: 50px;\n  border: 1px solid #DFE5EC;\n  border-radius: 5px;\n  background-color: #FFFFFF;\n  color: #4A4A4A;\n  text-align: center;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  :focus {\n    color: #FFFFFF;\n    background-color: #2196F3;\n  };\n  :hover {\n    cursor: pointer;\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(p.a)(["\n  margin-top: 160px;\n  box-sizing: border-box;\n  width: 508px;\n  height: 50px;\n"]);return O=function(){return e},e}function F(){var e=Object(p.a)(["\n  margin: 0px;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n"]);return F=function(){return e},e}function j(){var e=Object(p.a)(["\n  padding-bottom: 10px;\n  padding-left: 20px;\n"]);return j=function(){return e},e}function T(){var e=Object(p.a)(["\n  display: block;\n  :hover {\n    background-color: #F1FCFF;\n    cursor: pointer;\n  }\n  /* box-sizing: border-box; */\n  padding: 10px;\n  padding-left: 20px;\n  height: 20px;\n"]);return T=function(){return e},e}function M(){var e=Object(p.a)(["\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: 'white';\n  border-radius: 2px;\n  transition: all 150ms;\n  border: 1px solid #2196F3;\n\n  "," {\n    visibility: ","\n  }\n"]);return M=function(){return e},e}function B(){var e=Object(p.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return B=function(){return e},e}function D(){var e=Object(p.a)(["\n  fill: none;\n  stroke: #2196F3;\n  stroke-width: 2px;\n"]);return D=function(){return e},e}function C(){var e=Object(p.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return C=function(){return e},e}var I=h.b.div(C()),S=h.b.svg(D()),z=h.b.input.attrs({type:"checkbox"})(B()),A=h.b.div(M(),S,(function(e){return e.checked?"visible":"hidden"})),H=function(e){var t=e.className,n=e.checked,r=Object(d.a)(e,["className","checked"]);return a.a.createElement(I,{className:t},a.a.createElement(z,Object.assign({checked:n},r)),a.a.createElement(A,{checked:n},a.a.createElement(S,{viewBox:"0 0 24 24"},a.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))},L=h.b.label(T()),N=h.b.div(j()),J=h.b.h1(F()),R=h.b.div(O()),P=h.b.button(y()),W=h.b.div(w()),q=h.b.div(k()),G=h.b.div(E()),K=h.b.div(v()),Q=h.b.span(x()),U=h.b.h1(b()),V=(h.b.img(m()),n(26)),X=n(8),Y=n.n(X),Z=n(11),$=n(36).default,_=function(){function e(t){Object(i.a)(this,e),this.apibase="https://front-test.beta.aviasales.ru",this.onError=function(e){console.log("WTF".concat(e))},this.iataCode=t}return Object(s.a)(e,[{key:"getResourseId",value:function(){var e=Object(Z.a)(Y.a.mark((function e(){var t,n,r,a,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.get("".concat(this.apibase,"/search"));case 2:return t=e.sent,n=t.data.searchId,r=[],a="".concat(this.apibase,"/tickets?searchId=").concat(n),e.next=8,$.get("".concat(a)).catch(this.onError);case 8:return c=e.sent,e.next=11,r.push(c);case 11:if(!c||c.data.stop){e.next=19;break}return e.next=14,$.get("".concat(a)).catch(this.onError);case 14:return c=e.sent,e.next=17,r.push(c);case 17:e.next=11;break;case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getImage",value:function(){var e=[];return this.iataCode.map(function(){var t=Object(Z.a)(Y.a.mark((function t(n){var r;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$.get("https://pics.avs.io/99/36/".concat(n,".png"));case 2:r=t.sent,e.push(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}}]),e}(),ee=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).service=new _,e.destructData=function(e){return e.reduce((function(e,t){return void 0!==t&&e.push(t.data),e}),[])},e.destructTickets=function(){var t=e.state.packOfTickets;return e.destructData(t).reduce((function(e,t){return e.push(t.tickets),e}),[])},e.deepDestruct=function(){return e.destructTickets().reduce((function(e,t){return t.forEach((function(t){e.push(t)})),e}),[])},e.structuringTicket=function(e){return e.reduce((function(e,t,n){return e.push({id:n,price:t.price,duration:t.segments[0].duration+t.segments[1].duration,transplant:t.segments[0].stops.length}),e}),[])},e.displayingTicket=function(e,t){var n=[];return e.forEach((function(e){return n.push(t[e])})),n},e.btnSelect=function(t){return function(){"cheap"===t?e.setState({fast:!1}):e.setState({fast:!0})}},e.getFlyInfo=function(e){var t=e.segments[0],n=t.origin,r=t.destination,a="".concat(n," - ").concat(r),c=e.segments[0].date.slice(0,-1),o=e.segments[1].date.slice(0,-1),i=new Date(c).getHours()<10?"0".concat(new Date(c).getHours()):new Date(c).getHours(),s=new Date(c).getMinutes()<10?"0".concat(new Date(c).getMinutes()):new Date(c).getMinutes(),l=e.segments[0].duration,u=Math.floor(l/60),p=l%60<10?"0".concat(l%60):l%60,h=60*new Date(c).getHours()+new Date(c).getMinutes()+l,f=Math.floor(h/60)<10?"0".concat(Math.floor(h/60)):Math.floor(h/60)>24?Math.floor(h/60)-24<10?"0".concat(Math.floor(h/60)-24):Math.floor(h/60)-24:Math.floor(h/60),g=h%60<10?"0".concat(h%60):h%60,d="".concat(f,":").concat(g),m="".concat(i,":").concat(s," - ").concat(d),b="".concat(u,"\u0447 ").concat(p,"\u043c"),x=e.segments[1].duration,v=new Date(o).getHours()<10?"0".concat(new Date(o).getHours()):new Date(o).getHours(),E=new Date(o).getMinutes()<10?"0".concat(new Date(o).getMinutes()):new Date(o).getMinutes(),k=Math.floor(x/60),w=x%60<10?"0".concat(x%60):x%60,y=60*new Date(o).getHours()+new Date(o).getMinutes()+x,O=Math.floor(y/60)<10?"0".concat(Math.floor(y/60)):Math.floor(y/60)>24?Math.floor(y/60)-24<10?"0".concat(Math.floor(y/60)-24):Math.floor(y/60)-24:Math.floor(y/60),F=y%60<10?"0".concat(y%60):y%60,j="".concat(O,":").concat(F);return[a,m,"".concat(v,":").concat(E," - ").concat(j),b,"".concat(k,"\u0447 ").concat(w,"\u043c")]},e.topBtnLogic=function(t){var n=e.state.fast;return t.length>0&&n?t.slice().sort((function(e,t){return e.duration>t.duration?1:-1})):t.slice().sort((function(e,t){return e.price>t.price?1:-1}))},e.state={packOfTickets:[],ticketsMainInfo:[],fast:!1},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.service.getResourseId().then((function(t){return e.setState({packOfTickets:Object(V.a)(t)})}))}},{key:"render",value:function(){var e=this,t=this.props.condition,n=this.deepDestruct();if(0===n.length)return null;var r=this.structuringTicket(n),c=this.topBtnLogic(r),o=[];if(c.length>0)for(var i=0;i<c.length;i+=1)o.push(c[i].id);var s=this.displayingTicket(o,n),l=t.all,u=t.without,p=t.oneTrans,h=t.twoTrans,f=t.threeTrans;return!l&&s.length>0&&(s=s.filter((function(e){return(u?0===e.segments[0].stops.length:null)||(p?1===e.segments[0].stops.length:null)||(h?2===e.segments[0].stops.length:null)||(f?3===e.segments[0].stops.length:null)}))),s=s.filter((function(e,t){return t<5})),a.a.createElement(W,null,a.a.createElement(R,null,a.a.createElement(P,{onClick:this.btnSelect("cheap")},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),a.a.createElement(P,{onClick:this.btnSelect("fast")},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439")),s.map((function(t,n){return a.a.createElement(q,{key:n},a.a.createElement(G,null,a.a.createElement(K,null,a.a.createElement(Q,{style:{color:"#A0B0B9"}},e.getFlyInfo(t)[0]),a.a.createElement(Q,null,e.getFlyInfo(t)[2])),a.a.createElement(K,{style:{marginBottom:"10px"}},a.a.createElement(Q,{style:{color:"#A0B0B9"}},e.getFlyInfo(t)[0]),a.a.createElement(Q,null,e.getFlyInfo(t)[1])),a.a.createElement(K,{style:{marginBottom:"26px"}},a.a.createElement(U,null,t.price))),a.a.createElement(G,null,a.a.createElement(K,null,a.a.createElement(Q,{style:{color:"#A0B0B9"}},"\u0412 \u041f\u0423\u0422\u0418"),a.a.createElement(Q,null,e.getFlyInfo(t)[4])),a.a.createElement(K,{style:{marginBottom:"10px"}},a.a.createElement(Q,{style:{color:"#A0B0B9"}},"\u0412 \u041f\u0423\u0422\u0418"),a.a.createElement(Q,null,e.getFlyInfo(t)[3])),a.a.createElement(K,{style:{marginBottom:"50px"}})),a.a.createElement(G,null,a.a.createElement(K,null,a.a.createElement(Q,{style:{textTransform:"uppercase",color:"#A0B0B9"}},t.segments[0].stops.length>=2?"".concat(t.segments[0].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"):1===t.segments[0].stops.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(Q,null,t.segments[0].stops.map((function(e,t,n){return t===n.length-1?"".concat(e):"".concat(e,",")})))),a.a.createElement(K,{style:{marginBottom:0===t.segments[1].stops.length?"31px":"10px"}},a.a.createElement(Q,{style:{textTransform:"uppercase",color:"#A0B0B9"}},t.segments[1].stops.length>=2?"".concat(t.segments[1].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"):1===t.segments[1].stops.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(Q,null,t.segments[1].stops.map((function(e,t,n){return t===n.length-1?"".concat(e):"".concat(e,",")})))),a.a.createElement(K,{style:{marginBottom:"10px"}},a.a.createElement("img",{alt:"aim",src:"https://pics.avs.io/99/36/".concat(t.carrier,".png")}))))})))}}]),n}(a.a.Component);ee.defaultProps={all:!1,without:!1,oneTrans:!1,twoTrans:!1,threeTrans:!1,condition:{}};var te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).checked=function(t){return function(){switch(t){case 1:e.setState((function(e){return{all:!e.all}}));break;case 2:e.setState((function(e){return{without:!e.without}}));break;case 3:e.setState((function(e){return{oneTrans:!e.oneTrans}}));break;case 4:e.setState((function(e){return{twoTrans:!e.twoTrans}}));break;case 5:e.setState((function(e){return{threeTrans:!e.threeTrans}}))}}},e.state={all:!1,without:!1,oneTrans:!1,twoTrans:!1,threeTrans:!1},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.all,n=e.without,r=e.oneTrans,c=e.twoTrans,o=e.threeTrans;return a.a.createElement(a.a.Fragment,null,a.a.createElement(g,null,a.a.createElement(N,null,a.a.createElement(J,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")),a.a.createElement(L,null,a.a.createElement(H,{checked:t,onChange:this.checked(1)}),a.a.createElement("span",{style:{marginLeft:10}},"\u0412\u0441\u0435")),a.a.createElement(L,null,a.a.createElement(H,{checked:n,onChange:this.checked(2)}),a.a.createElement("span",{style:{marginLeft:10}},"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")),a.a.createElement(L,null,a.a.createElement(H,{checked:r,onChange:this.checked(3)}),a.a.createElement("span",{style:{marginLeft:10}},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),a.a.createElement(L,null,a.a.createElement(H,{checked:c,onChange:this.checked(4)}),a.a.createElement("span",{style:{marginLeft:10}},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),a.a.createElement(L,null,a.a.createElement(H,{checked:o,onChange:this.checked(5)}),a.a.createElement("span",{style:{marginLeft:10}},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"))),a.a.createElement(ee,{condition:{all:t,without:n,oneTrans:r,twoTrans:c,threeTrans:o}}))}}]),n}(a.a.Component);function ne(){var e=Object(p.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&subset=cyrillic');\n  body {\n    font-family: 'Open Sans';\n    font-style: normal;\n    font-weight: 400;\n  }\n"]);return ne=function(){return e},e}var re=Object(h.a)(ne());function ae(){var e=Object(p.a)(["\n  display: flex;\n  height: 1350px;\n  width: 960px;\n  background-color: #E5E5E5;\n  border: 1px solid transparent;\n"]);return ae=function(){return e},e}var ce=h.b.div(ae()),oe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement(ce,null,a.a.createElement(re,null),a.a.createElement(te,null))}}]),n}(a.a.Component);o.a.render(a.a.createElement(oe,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.d36b0bcf.chunk.js.map