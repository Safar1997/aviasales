(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/logo.0c089234.svg"},31:function(e,t,n){e.exports=n(55)},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=n(8),s=n(4),l=n(5),u=n(6),p=n(7),h=n(1),f=n(2);function g(){var e=Object(h.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700&subset=cyrillic');\n  body {\n    font-family: 'Open Sans';\n    font-style: normal;\n    font-weight: 400;\n  }\n"]);return g=function(){return e},e}var m=Object(f.a)(g()),d=n(30);function b(){var e=Object(h.a)(["\n  display: block;\n  width: 60px;\n  height: 60px;\n  margin: 0 auto;\n"]);return b=function(){return e},e}function x(){var e=Object(h.a)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 24px;\n  margin: 0px;\n  color: #2196F3;\n"]);return x=function(){return e},e}function y(){var e=Object(h.a)(["\n  display: block;\n  font-size: 12px;\n  line-height: 18px;\n  align-items: center;\n  letter-spacing: 0.5px;\n"]);return y=function(){return e},e}function v(){var e=Object(h.a)(["\n\n"]);return v=function(){return e},e}function E(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n  margin-left: 20px;\n  width: 141px;\n  justify-content: flex-end;\n"]);return E=function(){return e},e}function w(){var e=Object(h.a)(["\n  box-sizing: border-box;\n  display: flex;\n  background: #FFFFFF;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  padding: 20px;\n  padding-top: 26px;\n  padding-left: 0px;\n  margin: 0px;\n  margin-top: 20px;\n  width: 502px;\n  height: 184px;\n"]);return w=function(){return e},e}function k(){var e=Object(h.a)(["\n  /* padding-left: 20px; */\n  width: 502px;\n"]);return k=function(){return e},e}function O(){var e=Object(h.a)(["\n  display: inline-block;\n  outline: none;\n  width: 252px;\n  height: 50px;\n  border: 1px solid #DFE5EC;\n  border-radius: 5px;\n  background-color: #FFFFFF;\n  color: #4A4A4A;\n  text-align: center;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  :focus {\n    color: #FFFFFF;\n    background-color: #2196F3;\n  };\n  :hover {\n    cursor: pointer;\n  }\n"]);return O=function(){return e},e}function F(){var e=Object(h.a)(["\n  box-sizing: border-box;\n  width: 508px;\n  height: 50px;\n"]);return F=function(){return e},e}function j(){var e=Object(h.a)(["\n  margin: 0px;\n  font-style: normal;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  text-transform: uppercase;\n"]);return j=function(){return e},e}function T(){var e=Object(h.a)(["\n  padding-bottom: 10px;\n  padding-left: 20px;\n"]);return T=function(){return e},e}function M(){var e=Object(h.a)(["\n  display: block;\n  :hover {\n    background-color: #F1FCFF;\n    cursor: pointer;\n  }\n  /* box-sizing: border-box; */\n  padding: 10px;\n  padding-left: 20px;\n  height: 20px;\n"]);return M=function(){return e},e}function B(){var e=Object(h.a)(["\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  background: 'white';\n  border-radius: 2px;\n  transition: all 150ms;\n  border: 1px solid #2196F3;\n\n  "," {\n    visibility: ","\n  }\n"]);return B=function(){return e},e}function D(){var e=Object(h.a)(["\n  border: 0;\n  clip: rect(0 0 0 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n"]);return D=function(){return e},e}function A(){var e=Object(h.a)(["\n  fill: none;\n  stroke: #2196F3;\n  stroke-width: 2px;\n"]);return A=function(){return e},e}function C(){var e=Object(h.a)(["\n  display: inline-block;\n  vertical-align: middle;\n"]);return C=function(){return e},e}var S=f.b.div(C()),I=f.b.svg(A()),z=f.b.input.attrs({type:"checkbox"})(D()),H=f.b.div(B(),I,(function(e){return e.checked?"visible":"hidden"})),L=function(e){var t=e.className,n=e.checked,a=Object(d.a)(e,["className","checked"]);return r.a.createElement(S,{className:t},r.a.createElement(z,Object.assign({checked:n},a)),r.a.createElement(H,{checked:n},r.a.createElement(I,{viewBox:"0 0 24 24"},r.a.createElement("polyline",{points:"20 6 9 17 4 12"}))))},N=f.b.label(M()),J=f.b.div(T()),R=f.b.h1(j()),P=f.b.div(F()),W=f.b.button(O()),q=f.b.div(k()),G=f.b.div(w()),K=f.b.div(E()),Q=f.b.div(v()),U=f.b.span(y()),V=f.b.h1(x()),X=f.b.img(b()),Y=function(e){var t=e.updateSortType,n=e.sortType,a=n.cheap,o=n.fast;return r.a.createElement(P,null,r.a.createElement(W,{style:{color:"".concat(a?"white":" #4A4A4A"),backgroundColor:a?"#2196F3":"white"},onClick:function(){t({cheap:!0,fast:!1})}},"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"),r.a.createElement(W,{style:{color:"".concat(o?"white":" #4A4A4A"),backgroundColor:o?"#2196F3":"white"},onClick:function(){t({cheap:!1,fast:!0})}},"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))};function Z(){var e=Object(h.a)(["\n  background-color: #FFFFFF;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  width: 232px;\n  height: 252px;\n  font-style: normal;\n  font-weight: normal;\n  font-size: 13px;\n  line-height: 20px;\n  padding-top: 20px;\n  padding-bottom: 10px;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  margin-top: 60px;\n  margin-right: 20px;\n  margin-left: 30px;\n"]);return Z=function(){return e},e}var $=f.b.form(Z()),_=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).checked=function(t){return function(){var n=e.props.updateTransplantType;switch(t){case 1:e.setState((function(e){return{all:!e.all}}),(function(){n(e.state)}));break;case 2:e.setState((function(e){return{without:!e.without}}),(function(){n(e.state)}));break;case 3:e.setState((function(e){return{one:!e.one}}),(function(){n(e.state)}));break;case 4:e.setState((function(e){return{two:!e.two}}),(function(){n(e.state)}));break;case 5:e.setState((function(e){return{three:!e.three}}),(function(){n(e.state)}))}}},e.state={all:!1,without:!1,one:!1,two:!1,three:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.all,n=e.without,a=e.one,o=e.two,c=e.three;return r.a.createElement(r.a.Fragment,null,r.a.createElement($,null,r.a.createElement(J,null,r.a.createElement(R,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")),r.a.createElement(N,null,r.a.createElement(L,{checked:t,onChange:this.checked(1)}),r.a.createElement("span",{style:{marginLeft:10}},"\u0412\u0441\u0435")),r.a.createElement(N,null,r.a.createElement(L,{checked:n,onChange:this.checked(2)}),r.a.createElement("span",{style:{marginLeft:10}},"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")),r.a.createElement(N,null,r.a.createElement(L,{checked:a,onChange:this.checked(3)}),r.a.createElement("span",{style:{marginLeft:10}},"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430")),r.a.createElement(N,null,r.a.createElement(L,{checked:o,onChange:this.checked(4)}),r.a.createElement("span",{style:{marginLeft:10}},"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438")),r.a.createElement(N,null,r.a.createElement(L,{checked:c,onChange:this.checked(5)}),r.a.createElement("span",{style:{marginLeft:10}},"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"))))}}]),n}(r.a.Component),ee=n(28),te=n(11),ne=n.n(te),ae=n(26),re=n(38).default,oe=function(){function e(){Object(s.a)(this,e),this.apibase="https://front-test.beta.aviasales.ru",this.onError=function(e){console.log("WTF".concat(e)),alert("\u0421\u0435\u0440\u0432\u0435\u0440 \u0438\u043d\u043e\u0433\u0434\u0430 \u0441\u043f\u0435\u0446\u043e\u043c \u043e\u0449\u0438\u0431\u043a\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442,\n    \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u0441\u0442\u0430\u0442\u044c \u043d\u0430\u0441 \u0432 \u0440\u0430\u0441\u043f\u043b\u043e\u0445, \u043d\u043e \u043c\u044b-\u0442\u043e \u0433\u043e\u0442\u043e\u0432\u044b, \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0431\u0438\u043b\u0435\u0442\u043e\u0432, \u043f\u0440\u043e\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438 :)")}}return Object(l.a)(e,[{key:"getResourseId",value:function(){var e=Object(ae.a)(ne.a.mark((function e(){var t,n,a,r,o,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.get("".concat(this.apibase,"/search"));case 2:return t=e.sent,n=t.data.searchId,a=[],r="".concat(this.apibase,"/tickets?searchId=").concat(n),e.next=8,re.get("".concat(r)).catch(this.onError);case 8:o=e.sent,a.push(o);case 10:if(!o||o.data.stop){e.next=17;break}return e.next=13,re.get("".concat(r)).catch(this.onError);case 13:o=e.sent,a.push(o),e.next=10;break;case 17:return void 0===a[a.length-1]&&a.pop(),c=a.reduce((function(e,t){return e.push(t.data.tickets),e}),[]),s=c.reduce((function(e,t){return t.map((function(t,n){return e.push(Object(i.a)({},t,{id:n}))})),e}),[]),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ce=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).service=new oe,e.getFlyInfo=function(e){var t=e.segments[0],n=t.origin,a=t.destination,r="".concat(n," - ").concat(a),o=e.segments[0].date.slice(0,-1),c=e.segments[1].date.slice(0,-1),i=new Date(o).getHours()<10?"0".concat(new Date(o).getHours()):new Date(o).getHours(),s=new Date(o).getMinutes()<10?"0".concat(new Date(o).getMinutes()):new Date(o).getMinutes(),l=e.segments[0].duration,u=Math.floor(l/60),p=l%60<10?"0".concat(l%60):l%60,h=60*new Date(o).getHours()+new Date(o).getMinutes()+l,f=Math.floor(h/60)<10?"0".concat(Math.floor(h/60)):Math.floor(h/60)>24?Math.floor(h/60)-24<10?"0".concat(Math.floor(h/60)-24):Math.floor(h/60)-24:Math.floor(h/60),g=h%60<10?"0".concat(h%60):h%60,m="".concat(f,":").concat(g),d="".concat(i,":").concat(s," - ").concat(m),b="".concat(u,"\u0447 ").concat(p,"\u043c"),x=e.segments[1].duration,y=new Date(c).getHours()<10?"0".concat(new Date(c).getHours()):new Date(c).getHours(),v=new Date(c).getMinutes()<10?"0".concat(new Date(c).getMinutes()):new Date(c).getMinutes(),E=Math.floor(x/60),w=x%60<10?"0".concat(x%60):x%60,k=60*new Date(c).getHours()+new Date(c).getMinutes()+x,O=Math.floor(k/60)<10?"0".concat(Math.floor(k/60)):Math.floor(k/60)>24?Math.floor(k/60)-24<10?"0".concat(Math.floor(k/60)-24):Math.floor(k/60)-24:Math.floor(k/60),F=k%60<10?"0".concat(k%60):k%60,j="".concat(O,":").concat(F);return[r,d,"".concat(y,":").concat(v," - ").concat(j),b,"".concat(E,"\u0447 ").concat(w,"\u043c")]},e.topBtnLogic=function(t){var n=e.props.sortType.fast;return t.length>0&&n?t.slice().sort((function(e,t){return e.segments[0].duration>t.segments[0].duration?1:-1})):t.slice().sort((function(e,t){return e.price>t.price?1:-1}))},e.state={packOfTickets:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.service.getResourseId().then((function(t){return e.setState({packOfTickets:Object(ee.a)(t)})}))}},{key:"render",value:function(){var e=this,t=this.props.transplantType,n=this.state.packOfTickets,a=this.topBtnLogic(n),o=t.all,c=t.without,i=t.one,s=t.two,l=t.three;return!o&&a.length>0&&(a=a.filter((function(e){return(c?0===e.segments[0].stops.length:null)||(i?1===e.segments[0].stops.length:null)||(s?2===e.segments[0].stops.length:null)||(l?3===e.segments[0].stops.length:null)}))),0===a.length&&(a=this.topBtnLogic(n)),a=a.filter((function(e,t){return t<5})),r.a.createElement(r.a.Fragment,null,a.map((function(t){return r.a.createElement(G,{key:a.id},r.a.createElement(K,null,r.a.createElement(Q,null,r.a.createElement(U,{style:{color:"#A0B0B9"}},e.getFlyInfo(t)[0]),r.a.createElement(U,null,e.getFlyInfo(t)[2])),r.a.createElement(Q,{style:{marginBottom:"10px"}},r.a.createElement(U,{style:{color:"#A0B0B9"}},e.getFlyInfo(t)[0]),r.a.createElement(U,null,e.getFlyInfo(t)[1])),r.a.createElement(Q,{style:{marginBottom:"26px"}},r.a.createElement(V,null,t.price))),r.a.createElement(K,null,r.a.createElement(Q,null,r.a.createElement(U,{style:{color:"#A0B0B9"}},"\u0412 \u041f\u0423\u0422\u0418"),r.a.createElement(U,null,e.getFlyInfo(t)[4])),r.a.createElement(Q,{style:{marginBottom:"10px"}},r.a.createElement(U,{style:{color:"#A0B0B9"}},"\u0412 \u041f\u0423\u0422\u0418"),r.a.createElement(U,null,e.getFlyInfo(t)[3])),r.a.createElement(Q,{style:{marginBottom:"50px"}})),r.a.createElement(K,null,r.a.createElement(Q,null,r.a.createElement(U,{style:{textTransform:"uppercase",color:"#A0B0B9"}},t.segments[0].stops.length>=2?"".concat(t.segments[0].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"):1===t.segments[0].stops.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement(U,null,t.segments[0].stops.map((function(e,t,n){return t===n.length-1?"".concat(e):"".concat(e,",")})))),r.a.createElement(Q,{style:{marginBottom:0===t.segments[1].stops.length?"31px":"10px"}},r.a.createElement(U,{style:{textTransform:"uppercase",color:"#A0B0B9"}},t.segments[1].stops.length>=2?"".concat(t.segments[1].stops.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"):1===t.segments[1].stops.length?"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430":"0 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),r.a.createElement(U,null,t.segments[1].stops.map((function(e,t,n){return t===n.length-1?"".concat(e):"".concat(e,",")})))),r.a.createElement(Q,{style:{marginBottom:"10px"}},r.a.createElement("img",{alt:"aim",src:"https://pics.avs.io/99/36/".concat(t.carrier,".png")}))))})))}}]),n}(r.a.Component);ce.defaultProps={transplantType:{}};var ie=n(27),se=n.n(ie);function le(){var e=Object(h.a)(["\n  display: flex;\n  height: 100%;\n  width: 820px;\n  background-color: #E5E5E5;\n  border: 1px solid transparent;\n  margin: 0 auto;\n"]);return le=function(){return e},e}var ue=f.b.div(le()),pe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).updateTransplantType=function(t){e.setState({transplantType:Object(i.a)({},t)})},e.updateSortType=function(t){e.setState({sortType:Object(i.a)({},t)})},e.state={transplantType:{all:!1,without:!1,one:!1,two:!1,three:!1},sortType:{cheap:!0,fast:!1}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.transplantType,n=e.sortType;return r.a.createElement(ue,null,r.a.createElement(m,null),r.a.createElement(_,{updateTransplantType:this.updateTransplantType}),r.a.createElement(q,null,r.a.createElement(X,{src:se.a}),r.a.createElement(Y,{updateSortType:this.updateSortType,sortType:n}),r.a.createElement(ce,{transplantType:t,sortType:n})))}}]),n}(r.a.Component);c.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.8b5f1814.chunk.js.map